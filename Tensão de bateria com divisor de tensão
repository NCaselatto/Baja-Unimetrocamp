#include "Wire.h"

//Portas analogicas do voltimetro
int CH1 = A2;

//Variaveis que armazenam o valor de tensão de cada canal.
float VCH1;
 
//Com auxilio de um multimetro, verifique a tensão fornecida na linha de 5V pela sua placa ARDUINO  e digite no lugar do valor atual.
//ESSA ETAPA É FUNDAMELTAL PARA GARANTIR A PRECISÃO DO SEU VOLTIMETRO!
#define VREF 4.69
  
void setup() {
  //Escreve no display a legenda de cada canal do Voltimetro.
  lcd.setCursor(0, 0);
  lcd.print("CH1 (0-5V)=");   
}
 
void loop() {
   
//Função que chama a leitura analogica do ADC. Uma chamada por canal.
VCH1 = analogRead(CH1);
VCH2 = analogRead(CH2);
VCH3 = analogRead(CH3);
VCH4 = analogRead(CH4);
 
//Converte o valor ligo pela função analog Read(0 até 1023) em um valor de tensão. 
VCH1 =(VCH1*(VREF/1023));
VCH2 =(VCH2*(VREF/1023));
VCH3 =(5*VCH3*(VREF/1023));
VCH4 =(5*VCH4*(VREF/1023));
 
//Escreve no display as tensões medidas por cada canal do voltimetro.
lcd.setCursor(11, 0);
lcd.print(VCH1,2);
lcd.setCursor(11, 1);
lcd.print(VCH2,2);
 
lcd.setCursor(12, 2);
lcd.print("    ");
lcd.setCursor(12, 2);
lcd.print(VCH3,2);
 
lcd.setCursor(12, 3);
lcd.print("    ");
lcd.setCursor(12, 3);
lcd.print(VCH4,2);
 
//taxa de atualização entre tomada de medidas.
delay(400);
 
}
